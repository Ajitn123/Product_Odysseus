package Implementation;

import java.io.File;
import org.codehaus.plexus.util.FileUtils;
import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.OutputType;
import org.openqa.selenium.TakesScreenshot;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;


public class CruiseBookingpgeobjct 
{

	private static final TakesScreenshot driver = null;

	// Cruise Search
	@FindBy(xpath="//*[@id='sb-site']/div[2]/div[2]/div[1]/div[1]/div[3]/div/div/div/div[1]/ul[2]/li[2]/a")
	private WebElement Selectcruise;
	
    @FindBy(xpath="//*[@id='AffiliateDropDownList']")
	private WebElement selectaffiliate;   
		
	@FindBy(xpath="//*[@id='CruiseSearchForm_CruiseLine']/option[6]")  //For Royal caribbean
	private WebElement selectcruiseline;    
		
	@FindBy(xpath="//*[@id='CruiseSearchForm_Month']/option[5]")
	private WebElement selectdate;     
	
	@FindBy(id="CruiseSearchForm_OpenTarget")
	private WebElement checkbox;
		
	@FindBy(xpath="//*[@id='CruiseSearchForm_tab2']/div[2]/div[3]/div/input")
	private WebElement clicksearch;   
	
	//For cruises/results.aspx?
	@FindBy(className="ns-viewBtn")
	private WebElement bookbtn;
	
	//For cruises/details.aspx?
	@FindBy(id="_ctl0:MainContentsPH:_ctl0:_ctl1_GuestAge_1")
	private WebElement Guest1;
	
	@FindBy(id="_ctl0:MainContentsPH:_ctl0:_ctl1_GuestAge_2")
	private WebElement Guest2;
	
	@FindBy(id="_ctl0_MainContentsPH__ctl0__ctl1_ResidentState")
	private WebElement selectstate;
	
	@FindBy(id="_ctl0_MainContentsPH__ctl0__ctl1_CategoryIBTN")
	private WebElement selectcontinue;
	
	//For Purchase page(Passenger details)
	@FindBy(id="_ctl0_MainContentsPH__ctl0_TravelerAccount_1_Title")
	private WebElement selecttittle;
	
	
	public void BookingToTittle()
	{
		try
		{
			Selectcruise.click();
			Thread.sleep(1000);
			selectaffiliate.getAttribute("");
			selectaffiliate.sendKeys(Keys.ENTER);
			selectaffiliate.findElement(By.xpath("//*[@id='AffiliateDropDownList']/option[33]")).click();
			Thread.sleep(200); 
			selectcruiseline.click();
			Thread.sleep(1000);
			selectdate.click();
			Thread.sleep(1000);
			checkbox.click();
			Thread.sleep(600);
			clicksearch.click();
			Thread.sleep(5000);
			
						
		}
		catch(Exception e)
		{
			 File scr = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);
							
			   try
			   {
				    FileUtils.copyFile(scr, new File("D:\\Ajit\\Script_SS\\Cruisebooking\\bookingpge.jpg"));
				
			   } catch(Exception e1)
			     {
				     e1.printStackTrace();
			     }
		}
		
		
	}
	
	
	
}
